<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Somi, Be My Valentine ‚ù§Ô∏è</title>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
    <style>
        body {
            margin: 0;
            font-family: 'Arial Rounded MT Bold', 'Helvetica', sans-serif;
            background: linear-gradient(135deg, #ff9a9e, #fad0c4);
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
            text-align: center;
        }
        .card {
            background: white;
            padding: 30px;
            border-radius: 25px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            max-width: 90%;
            width: 350px;
            border: 2px solid #ff4d6d;
            position: relative;
            z-index: 10;
        }
        h1 { color: #ff4d6d; font-size: 22px; }
        #subText { color: #555; font-size: 18px; margin: 15px 0; min-height: 40px; }
        .btns { display: flex; justify-content: center; gap: 15px; flex-wrap: wrap; }
        button {
            padding: 12px 25px;
            font-size: 16px;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            font-weight: bold;
            transition: 0.2s;
        }
        #yesBtn { background-color: #ff4d6d; color: white; }
        #noBtn { background-color: #cfd8dc; color: #455a64; }
        .final-gif { width: 100%; border-radius: 15px; margin-top: 15px; display: block; }
    </style>
</head>
<body>

    <div class="card" id="mainCard">
        <h1 id="question">Somi, will you be my Valentine? ‚ù§Ô∏è</h1>
        <p id="subText">Choose wisely üòä</p>
        <div class="btns" id="btnGroup">
            <button id="yesBtn" onclick="handleChoice('yes')">Yes ‚ù§Ô∏è</button>
            <button id="noBtn" onclick="handleChoice('no')">No üö´</button>
        </div>
    </div>

    <script>
        let noCount = 0;
        // DIRECT GIF LINK - This version avoids the GIPHY "Not Available" screen
        const gifUrl = "https://media4.giphy.com/media/v1.Y2lkPTc5MGI3NjExM3A0eXF6bm9uYmt5eGZqZnd4eGZqZnd4eGZqZnd4eGZqZnd4eGZqJmVwPXYxX2ludGVybmFsX2dpZl9ieV9pZCZjdD1n/Lndv9L66tA8mS46KNR/giphy.gif";

        const noMessages = [
            "Are you sure? ü§®",
            "Really sure?? ü•∫",
            "Think again... üßê",
            "I'll give you chocolate! üç´",
            "Last chance... üò§",
            "You can't say no! üòÇ"
        ];

        function handleChoice(choice) {
            const question = document.getElementById('question');
            const subText = document.getElementById('subText');
            const yesBtn = document.getElementById('yesBtn');

            if (choice === 'yes') {
                showFinal("Vayyy!! Somi said YES! ‚ù§Ô∏èü•≥");
            } else {
                if (noCount < noMessages.length) {
                    subText.innerText = noMessages[noCount];
                    // Make Yes button grow
                    let currentSize = parseInt(window.getComputedStyle(yesBtn).fontSize);
                    yesBtn.style.fontSize = (currentSize + 10) + "px";
                    noCount++;
                } else {
                    showFinal("CONGRATULATIONS!<br>U R MY VALENTINE! ü•≥");
                }
            }
        }

        function showFinal(msg) {
            document.getElementById('mainCard').innerHTML = `
                <h1 style="color: #ff0000;">${msg}</h1>
                <img class="final-gif" src="${gifUrl}" alt="Valentine GIF">
            `;
            
            // Firecrackers
            var duration = 10 * 1000;
            var end = Date.now() + duration;
            (function frame() {
                confetti({ particleCount: 5, angle: 60, spread: 55, origin: { x: 0 }, colors: ['#ff4d6d', '#ffd700'] });
                confetti({ particleCount: 5, angle: 120, spread: 55, origin: { x: 1 }, colors: ['#ff4d6d', '#ffd700'] });
                if (Date.now() < end) { requestAnimationFrame(frame); }
            }());
        }
    </script>
</body>
</html>
